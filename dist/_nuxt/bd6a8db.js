(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{568:function(t,r,o){"use strict";o(38);r.a={data:function(){return{showModel:!1,errorMsg:{text:"",msg:""}}},watch:{"form.email":function(t){this.form.email=t,this.validateEmail(t)},"form.password":function(t){this.form.password=t,this.validatePass(t)},showModel:function(t){var r=this;t&&setTimeout((function(){r.showModel=!1}),2e3)}},computed:{validEmail:function(){return!!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.form.email)},checkCharLength:function(){return!!/^.{8,50}$/.test(this.form.password)},validForm:function(){return this.validEmail&&this.checkCharLength},userData:function(){return this.$store.state.user}},methods:{validateEmail:function(t){/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t)?this.formErrors.email="":this.formErrors.email="Enter a valid email address."},validatePass:function(t){/^.{8,50}$/.test(t)?this.formErrors.password="":this.formErrors.password="Password must have at least 8 char or more"}}}},621:function(t,r,o){"use strict";o.r(r);var e=o(10),n=(o(36),o(38),o(568)),l=o(60),c=o.n(l),d={data:function(){return{isloading:!1,formErrors:[],form:{email_or_phone:"",password:"",firebase_token:null,device_type:0},showPassword:!1}},mixins:[n.a],methods:{showPass:function(){this.showPassword=!this.showPassword},login:function(){var t=this;return Object(e.a)(regeneratorRuntime.mark((function r(){var o,e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.isloading=!0,(o=new FormData).append("email_or_phone",t.form.email_or_phone),o.append("password",t.form.password),o.append("firebase_token",t.form.firebase_token),o.append("device_type",t.form.device_type),r.prev=6,t.isloading=!0,r.next=10,t.$auth.loginWith("local",{data:o});case 10:e=r.sent,t.$auth.$storage.setCookie("userData",JSON.stringify(e.data.body),!0),console.log(e),0==e.data.code?(new c.a({position:"center",icon:"error",text:e.data.msg,showConfirmButton:!0}),t.isloading=!1):(new c.a({position:"center",icon:"success",text:e.msg,showConfirmButton:!0}),t.isloading=!1),t.$auth.$storage.setUniversal("type","user"),t.$auth.$storage.setUniversal("token","Bearer "+e.data.body.token),t.$store.dispatch("user/switchStatus",!0),t.$auth.$storage.setUniversal("logged_In",!0),t.$router.push("/"),setTimeout((function(){t.$nextTick((function(){location.reload()}))}),500),r.next=26;break;case 22:r.prev=22,r.t0=r.catch(6),console.log(r.t0),t.isloading=!1;case 26:case"end":return r.stop()}}),r,null,[[6,22]])})))()}}},m=o(29),component=Object(m.a)(d,(function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("form",{staticClass:"mt-5",on:{submit:function(r){return r.preventDefault(),t.login.apply(null,arguments)}}},[o("div",{staticClass:"form-group",class:{errorBorder:t.formErrors.email}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email_or_phone,expression:"form.email_or_phone"}],staticClass:"custome-input",attrs:{type:"email",placeholder:t.$t("email")},domProps:{value:t.form.email_or_phone},on:{input:function(r){r.target.composing||t.$set(t.form,"email_or_phone",r.target.value)}}}),t._v(" "),t.formErrors.email?o("span",{staticClass:"error-msg"},[t._v(t._s(t.formErrors.email))]):t._e()]),t._v(" "),o("div",{staticClass:"form-group mb-2",class:{errorBorder:t.formErrors.password}},["checkbox"==(t.showPassword?"text":"password")?o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{placeholder:t.$t("password"),autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.form.password)?t._i(t.form.password,null)>-1:t.form.password},on:{change:function(r){var o=t.form.password,e=r.target,n=!!e.checked;if(Array.isArray(o)){var l=t._i(o,null);e.checked?l<0&&t.$set(t.form,"password",o.concat([null])):l>-1&&t.$set(t.form,"password",o.slice(0,l).concat(o.slice(l+1)))}else t.$set(t.form,"password",n)}}}):"radio"==(t.showPassword?"text":"password")?o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{placeholder:t.$t("password"),autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.form.password,null)},on:{change:function(r){return t.$set(t.form,"password",null)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{placeholder:t.$t("password"),autocomplete:"off",type:t.showPassword?"text":"password"},domProps:{value:t.form.password},on:{input:function(r){r.target.composing||t.$set(t.form,"password",r.target.value)}}}),t._v(" "),o("button",{staticClass:"show-pass-btn",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.showPass.apply(null,arguments)}}},[t.showPassword?o("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M12 19c.946 0 1.81-.103 2.598-.281l-1.757-1.757c-.273.021-.55.038-.841.038-5.351 0-7.424-3.846-7.926-5a8.642 8.642 0 0 1 1.508-2.297L4.184 8.305c-1.538 1.667-2.121 3.346-2.132 3.379a.994.994 0 0 0 0 .633C2.073 12.383 4.367 19 12 19zm0-14c-1.837 0-3.346.396-4.604.981L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.319-3.319c2.614-1.951 3.547-4.615 3.561-4.657a.994.994 0 0 0 0-.633C21.927 11.617 19.633 5 12 5zm4.972 10.558-2.28-2.28c.19-.39.308-.819.308-1.278 0-1.641-1.359-3-3-3-.459 0-.888.118-1.277.309L8.915 7.501A9.26 9.26 0 0 1 12 7c5.351 0 7.424 3.846 7.926 5-.302.692-1.166 2.342-2.954 3.558z"}})]):o("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M12 9a3.02 3.02 0 0 0-3 3c0 1.642 1.358 3 3 3 1.641 0 3-1.358 3-3 0-1.641-1.359-3-3-3z"}}),t._v(" "),o("path",{attrs:{d:"M12 5c-7.633 0-9.927 6.617-9.948 6.684L1.946 12l.105.316C2.073 12.383 4.367 19 12 19s9.927-6.617 9.948-6.684l.106-.316-.105-.316C21.927 11.617 19.633 5 12 5zm0 12c-5.351 0-7.424-3.846-7.926-5C4.578 10.842 6.652 7 12 7c5.351 0 7.424 3.846 7.926 5-.504 1.158-2.578 5-7.926 5z"}})])]),t._v(" "),t.formErrors.password?o("span",{staticClass:"error-msg"},[t._v(t._s(t.formErrors.password))]):t._e()]),t._v(" "),o("nuxt-link",{staticClass:"forget-pass mb-3",attrs:{to:t.localePath("/auth/forget")}},[t._v(t._s(t.$t("forget_password")))]),t._v(" "),[t.isloading?o("button",{staticClass:"auth-btn",attrs:{type:"submit",disabled:""}},[o("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v("\n      Loading...\n    ")]):o("button",{staticClass:"auth-btn",attrs:{type:"submit"}},[t._v("\n      "+t._s(t.$t("sign_in"))+"\n    ")])]],2)}),[],!1,null,"4e4ebfdf",null);r.default=component.exports}}]);