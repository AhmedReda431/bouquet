(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{573:function(r,e,o){r.exports=o.p+"img/avatar.a8d9826.svg"},574:function(r,e,o){var content=o(587);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[r.i,content,""]]),content.locals&&(r.exports=content.locals);(0,o(56).default)("1dfd4aab",content,!0,{sourceMap:!1})},586:function(r,e,o){"use strict";o(574)},587:function(r,e,o){var t=o(55)(!1);t.push([r.i,".height-43[data-v-1303faef]{height:43px}",""]),r.exports=t},604:function(r,e,o){"use strict";o.r(e);o(23),o(17),o(1);var t=o(60),n=o.n(t),l={props:{supplierErrors:{type:Object,required:!0}},mixins:[{data:function(){return{}},watch:{"form.email":function(r){this.form.email=r,this.validateEmail(r)},"form.phone":function(r){this.form.phone=r,this.validatePhone(r)},"form.password":function(r){this.form.password=r,this.validatePass(r)},"form.confPass":function(r){this.form.confPass=r,this.validateConfPass(r)},"form.known_number":function(r){this.form.known_number=r,this.validateknownNumber(r)},"form.idNum":function(r){this.form.idNum=r,this.validateidNumber(r)}},computed:{validEmail:function(){return!!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.form.email)},validPhone:function(){return!!/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/.test(this.form.phone)},checkCharLength:function(){return!!/^.{8,50}$/.test(this.form.password)},validaConfimPass:function(){return this.form.confPass==this.form.password},validateidNum:function(){return 10!=this.form.idNum.length},validateknownNum:function(){return 10!=this.form.known_number.length},validForm:function(){return this.validPhone&&this.checkCharLength&&this.validateknownNum&&this.validateidNum&&this.validEmail&&this.validaConfimPass}},methods:{validateidNumber:function(r){10!=r.length?this.formErrors.idNumber="id number must be 10":this.formErrors.idNumber=""},validateknownNumber:function(r){10!=r.length?this.formErrors.knownNumber="known number must be 10":this.formErrors.knownNumber=""},validateEmail:function(r){/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(r)?this.formErrors.email="":this.formErrors.email="Enter a valid email address."},validatePhone:function(r){/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/.test(r)?this.formErrors.phone="":this.formErrors.phone="Enter a valid Phone."},validatePass:function(r){/^.{8,50}$/.test(r)?this.formErrors.password="":this.formErrors.password="Password must have at least 8 char or more"},validateConfPass:function(r){r==this.form.password?this.formErrors.confPass="":this.formErrors.confPass="confirm Password must match with password"}}}],data:function(){return{options:["Canada","United States"],isloading:!1,formErrors:[],profile_file:null,profile_img:null,cover_file:null,cover_img:null,shopType:["offline","online"],form:{name:"",owner_name:"",email:"",phone:"",city:null,neighborhood:null,address:"",commercial:"",shop_type:"",known_number:"",idNum:"",password:"",confPass:"",role_id:"2"},accept:!1,cities:[],neighborhoods:[]}},methods:{uploadCover:function(r){var e=this,input=r.target;if(null!=input&&input.files){var o=new FileReader;o.onload=function(r){e.cover_file=r.target.result},this.cover_img=input.files[0],o.readAsDataURL(input.files[0]),console.log("reader",o)}},uploadProfile:function(r){var e=this,input=r.target;if(null!=input&&input.files){var o=new FileReader;o.onload=function(r){e.profile_file=r.target.result},this.profile_img=input.files[0],o.readAsDataURL(input.files[0])}},supplierRegister:function(){var r=this,e=new FormData;e.append("name",this.form.name),e.append("owner_name",this.form.owner_name),e.append("email",this.form.email),e.append("phone",this.form.phone),e.append("address",this.form.address),"offline"==this.form.shop_type&&e.append("CRN",this.form.commercial),e.append("city",this.form.city),e.append("neighborhood",this.form.neighborhood),e.append("shop_type",this.form.shop_type),e.append("id_number",this.form.idNum),e.append("known_number",this.form.known_number),e.append("password",this.form.password),e.append("password_confirmation",this.form.confPass),e.append("logo",this.profile_img),e.append("cover",this.cover_img),this.isloading=!0,this.validForm||(this.isloading=!0,this.$axios.$post("stores/register",e).then((function(e){0==e.code?new n.a({position:"center",icon:"error",text:e.msg,showConfirmButton:!0}):(new n.a({position:"center",icon:"success",text:e.msg,showConfirmButton:!0}),r.$router.push("/auth/login"))})).catch((function(r){console.log(r)})).finally((function(){r.isloading=!1})))},getAddresses:function(){var r=this;this.$axios.$get("settings/getCitiesWithNeighborhoods").then((function(e){console.log(e),r.cities=e.body})).catch((function(r){console.log(r)}))},getNeighborhoods:function(){var r=this;this.$axios.$get("settings/getNeighborhoods?city_id=".concat(this.form.city)).then((function(e){console.log("neighborhoods",e),r.neighborhoods=e.body})).catch((function(r){console.log(r)}))}},mounted:function(){},computed:{availableLocales:function(){var r=this;return"en"==this.$i18n.locales.filter((function(i){return i.code!==r.$i18n.locale}))[0].code}}},m=(o(586),o(29)),component=Object(m.a)(l,(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"mt-5"},[t("form",{on:{submit:function(e){return e.preventDefault(),r.supplierRegister.apply(null,arguments)}}},[t("div",{staticClass:"supplier-header"},[t("div",{staticClass:"supplier-cover",style:r.cover_file?"background-image: url('"+r.cover_file+"')":"background-color: #F6F6F7"},[t("label",{attrs:{for:"cover-img"}},[t("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M20 5h-2.586l-2.707-2.707A.996.996 0 0 0 14 2h-4a.996.996 0 0 0-.707.293L6.586 5H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-8 12c-2.71 0-5-2.29-5-5 0-2.711 2.29-5 5-5s5 2.289 5 5c0 2.71-2.29 5-5 5z"}}),r._v(" "),t("path",{attrs:{d:"M13 9h-2v2H9v2h2v2h2v-2h2v-2h-2z"}})]),r._v(" "),t("input",{attrs:{type:"file",accept:"image/*",id:"cover-img"},on:{input:r.uploadCover}})])]),r._v(" "),t("div",{staticClass:"supplier-profile"},[t("div",{staticClass:"profile-img"},[r.profile_file?t("img",{attrs:{src:r.profile_file,alt:"avatar"}}):t("img",{attrs:{src:o(573),alt:"avatar"}}),r._v(" "),t("label",{attrs:{for:"profile-img"}},[t("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M20 5h-2.586l-2.707-2.707A.996.996 0 0 0 14 2h-4a.996.996 0 0 0-.707.293L6.586 5H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-8 12c-2.71 0-5-2.29-5-5 0-2.711 2.29-5 5-5s5 2.289 5 5c0 2.71-2.29 5-5 5z"}}),r._v(" "),t("path",{attrs:{d:"M13 9h-2v2H9v2h2v2h2v-2h2v-2h-2z"}})]),r._v(" "),t("input",{attrs:{type:"file",accept:"image/*",id:"profile-img"},on:{change:r.uploadProfile}})])])]),r._v(" "),r.supplierErrors&&r.supplierErrors.image?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.image[0]))]):r._e()]),r._v(" "),t("div",{staticClass:"form-group mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.name,expression:"form.name"}],staticClass:"custome-input",attrs:{type:"text",placeholder:r.$t("store_name")},domProps:{value:r.form.name},on:{input:function(e){e.target.composing||r.$set(r.form,"name",e.target.value)}}})]),r._v(" "),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.owner_name,expression:"form.owner_name"}],staticClass:"custome-input",attrs:{type:"text",placeholder:r.$t("owner_name")},domProps:{value:r.form.owner_name},on:{input:function(e){e.target.composing||r.$set(r.form,"owner_name",e.target.value)}}})]),r._v(" "),t("div",{staticClass:"form-group",class:{errorBorder:r.formErrors.email}},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.email,expression:"form.email"}],staticClass:"custome-input",attrs:{type:"email",placeholder:r.$t("email")},domProps:{value:r.form.email},on:{input:function(e){e.target.composing||r.$set(r.form,"email",e.target.value)}}}),r._v(" "),r.formErrors.email?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.email))]):r._e(),r._v(" "),r.supplierErrors&&r.supplierErrors.email?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.email[0]))]):r._e()]),r._v(" "),t("div",{staticClass:"form-group",class:{errorBorder:r.formErrors.phone}},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.phone,expression:"form.phone"}],staticClass:"custome-input",attrs:{type:"number",placeholder:r.$t("phone")},domProps:{value:r.form.phone},on:{input:function(e){e.target.composing||r.$set(r.form,"phone",e.target.value)}}}),r._v(" "),r.formErrors.phone?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.phone))]):r._e(),r._v(" "),r.supplierErrors&&r.supplierErrors.phone?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.phone[0]))]):r._e()]),r._v(" "),t("div",{staticClass:"form-group",class:{errorBorder:r.formErrors.address}},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.address,expression:"form.address"}],staticClass:"custome-input",attrs:{type:"text",placeholder:r.$t("address")},domProps:{value:r.form.address},on:{input:function(e){e.target.composing||r.$set(r.form,"address",e.target.value)}}}),r._v(" "),r.formErrors.address?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.address))]):r._e()]),r._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-lg-6 col-md-6 col-12",on:{click:r.getAddresses}},[t("b-form-select",{staticClass:"mb-3 custome-input py-2 height-43",on:{change:r.getNeighborhoods},model:{value:r.form.city,callback:function(e){r.$set(r.form,"city",e)},expression:"form.city"}},[t("b-form-select-option",{attrs:{value:null,disabled:""}},[r._v("Please select an option")]),r._v(" "),r._l(r.cities,(function(e,o){return t("b-form-select-option",{key:o,attrs:{value:e.id}},[r._v(r._s(r.availableLocales?e.name_ar:e.name_en))])}))],2)],1),r._v(" "),t("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[t("b-form-select",{staticClass:"mb-3 custome-input py-2 height-43",model:{value:r.form.neighborhood,callback:function(e){r.$set(r.form,"neighborhood",e)},expression:"form.neighborhood"}},[t("b-form-select-option",{attrs:{value:null}},[r._v("Please select an option")]),r._v(" "),r._l(r.neighborhoods,(function(e,o){return t("b-form-select-option",{key:o,attrs:{value:e.id}},[r._v(r._s(r.availableLocales?e.name_ar:e.name_en))])}))],2)],1)]),r._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[t("v-select",{attrs:{options:r.shopType,placeholder:"Shop type"},model:{value:r.form.shop_type,callback:function(e){r.$set(r.form,"shop_type",e)},expression:"form.shop_type"}}),r._v(" "),r.supplierErrors&&r.supplierErrors.shop_type?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.shop_type[0]))]):r._e()],1),r._v(" "),t("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.idNum,expression:"form.idNum"}],staticClass:"custome-input",attrs:{type:"number",placeholder:r.$t("id_num")},domProps:{value:r.form.idNum},on:{input:function(e){e.target.composing||r.$set(r.form,"idNum",e.target.value)}}}),r._v(" "),r.formErrors.idNumber?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.idNumber))]):r._e(),r._v(" "),r.supplierErrors&&r.supplierErrors.id_number?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.id_number[0]))]):r._e()])]),r._v(" "),t("div",{staticClass:"form-group",class:{errorBorder:r.formErrors.commercial}},["offline"==r.form.shop_type?t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.commercial,expression:"form.commercial"}],staticClass:"custome-input",attrs:{type:"number",placeholder:r.$t("crn")},domProps:{value:r.form.commercial},on:{input:function(e){e.target.composing||r.$set(r.form,"commercial",e.target.value)}}}):r._e(),r._v(" "),r.formErrors.commercial?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.commercial))]):r._e(),r._v(" "),r.supplierErrors&&r.supplierErrors.CRN?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.CRN[0]))]):r._e()]),r._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.known_number,expression:"form.known_number"}],staticClass:"custome-input",attrs:{type:"number",placeholder:r.$t("known_number")},domProps:{value:r.form.known_number},on:{input:function(e){e.target.composing||r.$set(r.form,"known_number",e.target.value)}}}),r._v(" "),r.formErrors.knownNumber?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.knownNumber))]):r._e(),r._v(" "),r.supplierErrors&&r.supplierErrors.known_number?t("span",{staticClass:"error-msg"},[r._v(r._s(r.supplierErrors.known_number[0]))]):r._e()])]),r._v(" "),t("div",{staticClass:"form-group",class:{errorBorder:r.formErrors.password}},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{type:"password",id:"password",placeholder:r.$t("password"),autocomplete:"off"},domProps:{value:r.form.password},on:{input:function(e){e.target.composing||r.$set(r.form,"password",e.target.value)}}}),r._v(" "),r.formErrors.password?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.password))]):r._e()]),r._v(" "),t("div",{staticClass:"form-group mb-2",class:{errorBorder:r.formErrors.confPass}},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.confPass,expression:"form.confPass"}],staticClass:"custome-input",attrs:{type:"password",id:"confirm-password",placeholder:r.$t("confirm_password"),autocomplete:"off"},domProps:{value:r.form.confPass},on:{input:function(e){e.target.composing||r.$set(r.form,"confPass",e.target.value)}}}),r._v(" "),r.formErrors.confPass?t("span",{staticClass:"error-msg"},[r._v(r._s(r.formErrors.confPass))]):r._e()]),r._v(" "),t("div",{staticClass:"mt-3 mb-3 accept-terms"},[t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:r.accept,expression:"accept"}],staticClass:"custome-checkbox",attrs:{type:"checkbox",id:"aterms"},domProps:{checked:r.accept,checked:Array.isArray(r.accept)?r._i(r.accept,null)>-1:r.accept},on:{change:function(e){var o=r.accept,t=e.target,n=!!t.checked;if(Array.isArray(o)){var l=r._i(o,null);t.checked?l<0&&(r.accept=o.concat([null])):l>-1&&(r.accept=o.slice(0,l).concat(o.slice(l+1)))}else r.accept=n}}}),r._v(" "),t("label",{attrs:{for:"aterms"}},[r._v(r._s(r.$t("accept_terms")))])]),r._v(" "),t("div",{staticClass:"popover__content"},[t("nuxt-link",{staticClass:"popover__message",attrs:{to:r.localePath("/terms")}},[r._v("Terms & Conditions")])],1)]),r._v(" "),r.isloading?t("button",{staticClass:"auth-btn",attrs:{type:"submit",disabled:""}},[t("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),r._v("\n      Loading...\n    ")]):t("button",{staticClass:"auth-btn",attrs:{type:"submit",disabled:!r.accept}},[r._v("\n      "+r._s(r.$t("sign_up"))+"\n    ")])]),r._v(" "),t("p",{staticClass:"content-bottom mt-4"},[r._v("\n    "+r._s(r.$t("have_account"))),t("nuxt-link",{attrs:{to:r.localePath("/auth/supplier/supplierLogin")}},[r._v(r._s(r.$t("sign_in")))])],1)])}),[],!1,null,"1303faef",null);e.default=component.exports}}]);