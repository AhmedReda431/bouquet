(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{573:function(e,t,o){e.exports=o.p+"img/avatar.a8d9826.svg"},669:function(e,t,o){"use strict";o.r(t);o(4),o(3),o(5),o(2),o(6);var r=o(10),n=o(0),l=(o(36),o(23),o(17),o(1),o(60)),c=o.n(l);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var d={layout:"supplierDash",components:{},data:function(){return{options:["Canada","United States"],isLoading:!1,profile_file:null,profile_img:null,cover_file:null,cover_img:null,form:{name:"",owner_name:"",email:"",phone:"",address:"",type:"",numId:"",city_id:null,neighborhood_id:null},Categories:null,cities:[],neighborhoods:[]}},methods:{uploadCover:function(e){var t=this,input=e.target;if(null!=input&&input.files){var o=new FileReader;o.onload=function(e){t.cover_file=e.target.result},this.cover_img=input.files[0],o.readAsDataURL(input.files[0])}},uploadProfile:function(e){var t=this,input=e.target;if(null!=input&&input.files){var o=new FileReader;o.onload=function(e){t.profile_file=e.target.result},this.profile_img=input.files[0],o.readAsDataURL(input.files[0])}},editProfile:function(){var e=this;this.isLoading=!0;var t=new FormData;t.append("name",this.form.name),t.append("owner_name",this.form.owner_name),t.append("phone",this.form.phone),t.append("category_id",this.form.phone),t.append("type",this.form.type),t.append("id_number",this.form.numId),t.append("cover",this.cover_img),t.append("logo",this.profile_img),t.append("city_id",this.form.city_id),t.append("neighborhood_id",this.form.neighborhood_id),this.$axios.post("stores/updateProfile",t).then((function(e){0==e.data.code?new c.a({position:"center",icon:"error",text:e.data.msg,showConfirmButton:!0}):new c.a({position:"center",icon:"success",text:e.data.msg,showConfirmButton:!0})})).catch((function(e){console.log(e)})).finally((function(){e.isLoading=!1}))},getSupplierProfileData:function(){var e=this;this.$axios.$get("stores/getProfile",{params:{firebase_token:"null",device_type:0}}).then((function(t){e.form=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},t.body),e.cover_file=t.body.cover,e.profile_file=t.body.logo,e.form.numId=t.body.tax_number})).catch((function(e){console.log(e)}))},getCategories:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("home").then((function(t){e.options=t.body.categories,console.log(t)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},getAddresses:function(){var e=this;this.$axios.$get("settings/getCitiesWithNeighborhoods").then((function(t){console.log(t),e.cities=t.body})).catch((function(e){console.log(e)}))},getNeighborhoods:function(){var e=this;this.$axios.$get("settings/getNeighborhoods?city_id=".concat(this.form.city)).then((function(t){console.log("neighborhoods",t),e.neighborhoods=t.body})).catch((function(e){console.log(e)}))}},mounted:function(){this.getSupplierProfileData(),this.getCategories(),this.getAddresses()},computed:{availableLocales:function(){var e=this;return"en"==this.$i18n.locales.filter((function(i){return i.code!==e.$i18n.locale}))[0].code}}},f=d,v=o(29),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content profile-info-content"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.editProfile.apply(null,arguments)}}},[r("div",{staticClass:"supplier-header"},[r("div",{staticClass:"supplier-cover",style:e.cover_file?"background-image: url('"+e.cover_file+"')":"background-color: #F6F6F7"},[r("label",{attrs:{for:"cover-img"}},[r("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M20 5h-2.586l-2.707-2.707A.996.996 0 0 0 14 2h-4a.996.996 0 0 0-.707.293L6.586 5H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-8 12c-2.71 0-5-2.29-5-5 0-2.711 2.29-5 5-5s5 2.289 5 5c0 2.71-2.29 5-5 5z"}}),e._v(" "),r("path",{attrs:{d:"M13 9h-2v2H9v2h2v2h2v-2h2v-2h-2z"}})]),e._v(" "),r("input",{attrs:{type:"file",accept:"image/*",id:"cover-img"},on:{change:e.uploadCover}})])]),e._v(" "),r("div",{staticClass:"supplier-profile"},[r("div",{staticClass:"profile-img"},[e.profile_file?r("img",{attrs:{src:e.profile_file,alt:"avatar"}}):r("img",{attrs:{src:o(573),alt:"avatar"}}),e._v(" "),r("label",{attrs:{for:"profile-img"}},[r("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M20 5h-2.586l-2.707-2.707A.996.996 0 0 0 14 2h-4a.996.996 0 0 0-.707.293L6.586 5H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-8 12c-2.71 0-5-2.29-5-5 0-2.711 2.29-5 5-5s5 2.289 5 5c0 2.71-2.29 5-5 5z"}}),e._v(" "),r("path",{attrs:{d:"M13 9h-2v2H9v2h2v2h2v-2h2v-2h-2z"}})]),e._v(" "),r("input",{attrs:{type:"file",accept:"image/*",id:"profile-img"},on:{change:e.uploadProfile}})])])])]),e._v(" "),r("div",{staticClass:"form-row mt-3"},[r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"custome-input",attrs:{type:"text",placeholder:"Store Name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.owner_name,expression:"form.owner_name"}],staticClass:"custome-input",attrs:{type:"text",placeholder:"Owner Name"},domProps:{value:e.form.owner_name},on:{input:function(t){t.target.composing||e.$set(e.form,"owner_name",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"custome-input",attrs:{type:"email",placeholder:"Email Address"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone,expression:"form.phone"}],staticClass:"custome-input",attrs:{type:"number",placeholder:"Phone Number"},domProps:{value:e.form.phone},on:{input:function(t){t.target.composing||e.$set(e.form,"phone",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],staticClass:"custome-input",attrs:{type:"text",placeholder:"Address"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("b-form-select",{staticClass:"mb-3 custome-input py-2 height-43",on:{change:e.getNeighborhoods},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[r("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("Please select an option")]),e._v(" "),e._l(e.cities,(function(address,t){return r("b-form-select-option",{key:t,attrs:{value:address.id}},[e._v(e._s(e.availableLocales?address.name_ar:address.name_en))])}))],2)],1),e._v(" "),r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("b-form-select",{staticClass:"mb-3 custome-input py-2 height-43",model:{value:e.form.neighbourhood,callback:function(t){e.$set(e.form,"neighbourhood",t)},expression:"form.neighbourhood"}},[r("b-form-select-option",{attrs:{value:null}},[e._v("Please select an option")]),e._v(" "),e._l(e.neighborhoods,(function(t,o){return r("b-form-select-option",{key:o,attrs:{value:t.id}},[e._v(e._s(e.availableLocales?t.name_ar:t.name_en))])}))],2)],1)]),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"custome-input",attrs:{type:"text",placeholder:"Shop Type"},domProps:{value:e.form.type},on:{input:function(t){t.target.composing||e.$set(e.form,"type",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.numId,expression:"form.numId"}],staticClass:"custome-input",attrs:{type:"number",placeholder:"Id Number"},domProps:{value:e.form.numId},on:{input:function(t){t.target.composing||e.$set(e.form,"numId",t.target.value)}}})])]),e._v(" "),e.isLoading?r("button",{staticClass:"info-btn",attrs:{type:"submit",disabled:""}},[r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),e._v("\n      Loading...\n    ")]):r("button",{staticClass:"info-btn",attrs:{type:"submit"}},[e._v("SAVE")])])])}),[],!1,null,"476cf087",null);t.default=component.exports}}]);