(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{612:function(o,e,t){"use strict";t.r(e);t(1),t(17);var r=t(60),n=t.n(r),l={data:function(){return{isLoading:!1,en_city:["Canada","United States"],ar_city:["كندا","امريكا"],en_neighbourhood:["Canada","United States"],ar_neighbourhood:["كندا","امريكا"],cities:[],neighborhoods:[],formErrors:[],form:{label:"",address:"",city:"",neighbourhood:""},addresses:[],selectedCity:null,selectedNeighbor:null}},computed:{availableLocales:function(){var o=this;return"en"==this.$i18n.locales.filter((function(i){return i.code!==o.$i18n.locale}))[0].code}},methods:{addNewAddress:function(){var o=this;this.isLoading=!0;var data={title:this.form.label,address:this.form.address,city_id:this.form.city,neighborhood_id:this.form.neighbourhood};console.log(data),this.$axios.$post("users/addresses/addAddress",data).then((function(o){console.log(o),0==o.code?new n.a({position:"center",icon:"error",text:o.msg,showConfirmButton:!0}):new n.a({position:"center",icon:"success",text:o.msg,showConfirmButton:!0})})).catch((function(o){console.log(o)})).finally((function(){o.isLoading=!1}))},getAddresses:function(){var o=this;this.$axios.$get("settings/getCitiesWithNeighborhoods").then((function(e){console.log(e),o.cities=e.body})).catch((function(o){console.log(o)}))},getNeighborhoods:function(){var o=this;this.$axios.$get("settings/getNeighborhoods?city_id=".concat(this.form.city)).then((function(e){console.log("neighborhoods",e),o.neighborhoods=e.body})).catch((function(o){console.log(o)}))}},mounted:function(){this.getAddresses()}},c=t(29),component=Object(c.a)(l,(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"add-address-box"},[o._m(0),o._v(" "),t("form",{on:{submit:function(e){return e.preventDefault(),o.addNewAddress.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.label,expression:"form.label"}],staticClass:"custome-input",attrs:{type:"text",placeholder:"Label (Gym, School, Airport, Restaurant ....) *"},domProps:{value:o.form.label},on:{input:function(e){e.target.composing||o.$set(o.form,"label",e.target.value)}}}),o._v(" "),o.formErrors&&o.formErrors.label?t("span",{staticClass:"error-msg"},[o._v(o._s(o.formErrors.label[0]))]):o._e()]),o._v(" "),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.address,expression:"form.address"}],staticClass:"custome-input",attrs:{type:"text",placeholder:"Address *"},domProps:{value:o.form.address},on:{input:function(e){e.target.composing||o.$set(o.form,"address",e.target.value)}}}),o._v(" "),o.formErrors&&o.formErrors.address?t("span",{staticClass:"error-msg"},[o._v(o._s(o.formErrors.address[0]))]):o._e()]),o._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[o.formErrors&&o.formErrors.city?t("span",{staticClass:"error-msg"},[o._v(o._s(o.formErrors.city[0]))]):o._e(),o._v(" "),t("b-form-select",{staticClass:"mb-3 custome-input py-2 height-43",on:{change:o.getNeighborhoods},model:{value:o.form.city,callback:function(e){o.$set(o.form,"city",e)},expression:"form.city"}},[t("b-form-select-option",{attrs:{value:null,disabled:""}},[o._v("Please select an option")]),o._v(" "),o._l(o.cities,(function(address,e){return t("b-form-select-option",{key:e,attrs:{value:address.id}},[o._v(o._s(o.availableLocales?address.name_ar:address.name_en))])}))],2)],1),o._v(" "),t("div",{staticClass:"form-group col-lg-6 col-md-6 col-12"},[o.formErrors&&o.formErrors.neighbourhood?t("span",{staticClass:"error-msg"},[o._v(o._s(o.formErrors.neighbourhood[0]))]):o._e(),o._v(" "),t("b-form-select",{staticClass:"mb-3 custome-input py-2 height-43",model:{value:o.form.neighbourhood,callback:function(e){o.$set(o.form,"neighbourhood",e)},expression:"form.neighbourhood"}},[t("b-form-select-option",{attrs:{value:null}},[o._v("Please select an option")]),o._v(" "),o._l(o.neighborhoods,(function(e,r){return t("b-form-select-option",{key:r,attrs:{value:e.id}},[o._v(o._s(o.availableLocales?e.name_ar:e.name_en))])}))],2)],1)]),o._v(" "),o.isLoading?t("button",{staticClass:"new-address-btn",attrs:{type:"submit",disabled:""}},[t("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),o._v("\n      Loading...\n    ")]):t("button",{staticClass:"new-address-btn",attrs:{type:"submit"}},[o._v("\n      ADD NEW ADDRESS\n    ")])])])}),[function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"box-header"},[t("p",{staticClass:"title"},[o._v("Add New Address")])])}],!1,null,"1e3145f0",null);e.default=component.exports}}]);