(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{568:function(t,o,r){"use strict";r(38);o.a={data:function(){return{showModel:!1,errorMsg:{text:"",msg:""}}},watch:{"form.email":function(t){this.form.email=t,this.validateEmail(t)},"form.password":function(t){this.form.password=t,this.validatePass(t)},showModel:function(t){var o=this;t&&setTimeout((function(){o.showModel=!1}),2e3)}},computed:{validEmail:function(){return!!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.form.email)},checkCharLength:function(){return!!/^.{8,50}$/.test(this.form.password)},validForm:function(){return this.validEmail&&this.checkCharLength},userData:function(){return this.$store.state.user}},methods:{validateEmail:function(t){/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t)?this.formErrors.email="":this.formErrors.email="Enter a valid email address."},validatePass:function(t){/^.{8,50}$/.test(t)?this.formErrors.password="":this.formErrors.password="Password must have at least 8 char or more"}}}},620:function(t,o,r){"use strict";r.r(o);var e=r(10),n=(r(36),r(38),r(568)),l=r(60),c=r.n(l),m={data:function(){return{isloading:!1,formErrors:[],form:{email_or_phone:"",password:"",firebase_token:null,device_type:0},showPassword:!1}},mixins:[n.a],methods:{showPass:function(){this.showPassword=!this.showPassword},supplierLogin:function(){var t=this;return Object(e.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t.isloading=!0,(r=new FormData).append("email_or_phone",t.form.email_or_phone),r.append("password",t.form.password),r.append("firebase_token",t.form.firebase_token),r.append("device_type",t.form.device_type);try{t.$axios.$post("stores/login",r).then((function(o){1==o.code&&(t.$auth.$storage.setCookie("userData",JSON.stringify(o.body),!0),t.$auth.$storage.setCookie("user",JSON.stringify(o.body),!0),t.$auth.$storage.setUniversal("token","Bearer "+o.body.token)),0==o.code?(new c.a({position:"center",icon:"error",text:o.msg,showConfirmButton:!0}),t.isloading=!1):(new c.a({position:"center",icon:"success",text:o.msg,showConfirmButton:!0}),t.$auth.$storage.setUniversal("type","supplier"),t.$store.dispatch("user/switchStatus",!0),t.$auth.$storage.setUniversal("logged_In",!0),t.$router.push("/"),setTimeout((function(){t.$nextTick((function(){t.$router.push("/")}),1e3)})),setTimeout((function(){location.reload()}),1200),t.isloading=!1)}))}catch(o){console.log(o),t.isloading=!1}case 7:case"end":return o.stop()}}),o)})))()}}},d=r(29),component=Object(d.a)(m,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("form",{staticClass:"mt-5",on:{submit:function(o){return o.preventDefault(),t.supplierLogin.apply(null,arguments)}}},[r("div",{staticClass:"form-group",class:{errorBorder:t.formErrors.email}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email_or_phone,expression:"form.email_or_phone"}],staticClass:"custome-input",attrs:{type:"email",placeholder:t.$t("email")},domProps:{value:t.form.email_or_phone},on:{input:function(o){o.target.composing||t.$set(t.form,"email_or_phone",o.target.value)}}}),t._v(" "),t.formErrors.email?r("span",{staticClass:"error-msg"},[t._v(t._s(t.formErrors.email))]):t._e()]),t._v(" "),r("div",{staticClass:"form-group mb-2",class:{errorBorder:t.formErrors.password}},["checkbox"==(t.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{placeholder:t.$t("password"),autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.form.password)?t._i(t.form.password,null)>-1:t.form.password},on:{change:function(o){var r=t.form.password,e=o.target,n=!!e.checked;if(Array.isArray(r)){var l=t._i(r,null);e.checked?l<0&&t.$set(t.form,"password",r.concat([null])):l>-1&&t.$set(t.form,"password",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.form,"password",n)}}}):"radio"==(t.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{placeholder:t.$t("password"),autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.form.password,null)},on:{change:function(o){return t.$set(t.form,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"custome-input",attrs:{placeholder:t.$t("password"),autocomplete:"off",type:t.showPassword?"text":"password"},domProps:{value:t.form.password},on:{input:function(o){o.target.composing||t.$set(t.form,"password",o.target.value)}}}),t._v(" "),r("button",{staticClass:"show-pass-btn",attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),t.showPass.apply(null,arguments)}}},[t.showPassword?r("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M12 19c.946 0 1.81-.103 2.598-.281l-1.757-1.757c-.273.021-.55.038-.841.038-5.351 0-7.424-3.846-7.926-5a8.642 8.642 0 0 1 1.508-2.297L4.184 8.305c-1.538 1.667-2.121 3.346-2.132 3.379a.994.994 0 0 0 0 .633C2.073 12.383 4.367 19 12 19zm0-14c-1.837 0-3.346.396-4.604.981L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.319-3.319c2.614-1.951 3.547-4.615 3.561-4.657a.994.994 0 0 0 0-.633C21.927 11.617 19.633 5 12 5zm4.972 10.558-2.28-2.28c.19-.39.308-.819.308-1.278 0-1.641-1.359-3-3-3-.459 0-.888.118-1.277.309L8.915 7.501A9.26 9.26 0 0 1 12 7c5.351 0 7.424 3.846 7.926 5-.302.692-1.166 2.342-2.954 3.558z"}})]):r("svg",{staticStyle:{fill:"#A0AEC0"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M12 9a3.02 3.02 0 0 0-3 3c0 1.642 1.358 3 3 3 1.641 0 3-1.358 3-3 0-1.641-1.359-3-3-3z"}}),t._v(" "),r("path",{attrs:{d:"M12 5c-7.633 0-9.927 6.617-9.948 6.684L1.946 12l.105.316C2.073 12.383 4.367 19 12 19s9.927-6.617 9.948-6.684l.106-.316-.105-.316C21.927 11.617 19.633 5 12 5zm0 12c-5.351 0-7.424-3.846-7.926-5C4.578 10.842 6.652 7 12 7c5.351 0 7.424 3.846 7.926 5-.504 1.158-2.578 5-7.926 5z"}})])]),t._v(" "),t.formErrors.password?r("span",{staticClass:"error-msg"},[t._v(t._s(t.formErrors.password))]):t._e()]),t._v(" "),r("nuxt-link",{staticClass:"forget-pass mb-3",attrs:{to:t.localePath("/auth/supplier/forget")}},[t._v(t._s(t.$t("forget_password")))]),t._v(" "),[t.isloading?r("button",{staticClass:"auth-btn",attrs:{type:"submit",disabled:""}},[r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v("\n      Loading...\n    ")]):r("button",{staticClass:"auth-btn",attrs:{type:"submit"}},[t._v("\n      "+t._s(t.$t("sign_in"))+"\n    ")])]],2)}),[],!1,null,"7ece465d",null);o.default=component.exports}}]);